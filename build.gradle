import org.apache.commons.codec.binary.Base64



plugins {
    id 'java'
}



buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath group: 'commons-codec', name: 'commons-codec', version: '1.2'
    }
}
task encode {
            def byte[] encodedString = new Base64().encode('hello world\n'.getBytes())
        println new String(encodedString)
    
}



defaultTasks 'clean', 'run'

task clean {
            println 'Default Cleaning!'
}

task run {
        println 'Default Running!'
}

task other {
        println "I'm not a default task!"
}

task distribution {
		println "We build the zip with version=$version"
}

task release {
    dependsOn 'distribution'
        println 'We release now'
}

gradle.taskGraph.whenReady { taskGraph ->
    if (taskGraph.hasTask(":release")) {
        version = '1.0'
    } else {
        version = '1.0-SNAPSHOT'
    }
}

